<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>แบบทดสอบภาวะซึมเศร้า</title>
    <link href="https://fonts.googleapis.com/css2?family=Abel&family=Kanit&display=swap" rel="stylesheet">
    <style>
        /* รหัส CSS ทั้งหมดที่เคยใช้ก่อนหน้านี้ */
        
        /* ปรับปรุงส่วนผลการประเมิน */
        .result-low {
            color: green;
            font-weight: bold;
        }
        
        .result-moderate {
            color: orange;
            font-weight: bold;
        }
        
        .result-high {
            color: red;
            font-weight: bold;
        }

        .result-moderate-low {
            color: #FFD700;
            font-weight: bold;
        }
        
    </style>
</head>
<body>
    <div class="container">
        <h2>แบบทดสอบภาวะซึมเศร้า</h2>
        <form id="depressionForm" action="#" method="post">
            <p>กรุณาเลือกตัวเลือกที่ตรงกับความรู้สึกของคุณมากที่สุด</p>
            <!-- คำถามแบบฟอร์มจะอยู่ที่นี่ -->
            <button type="button" onclick="calculateScore()">ส่งแบบประเมิน</button>
        </form>
    </div>

    <div id="resultModal" class="result-modal">
        <div class="result-modal-content">
            <span class="close" onclick="closeModal()">&times;</span>
            <h2>ผลการประเมิน</h2>
            <p>คุณมีความเสี่ยงภาวะซึมเศร้า: <span id="resultText"></span></p>
        </div>
    </div>

    <div class="nav-menu">
        <ul>
            <li><a href="index.html">หน้าหลัก</a></li>
            <li><a href="page2.html">แบบทดสอบ</a></li>
            <li><a href="page3.html">เกี่ยวกับ</a></li>
        </ul>
    </div>

    <script>
        function calculateScore() {
            let totalScore = 0;

            // คำนวณคะแนน
            totalScore += parseInt(document.querySelector('input[name="q1"]:checked').value);
            totalScore += parseInt(document.querySelector('input[name="q2"]:checked').value);
            totalScore += parseInt(document.querySelector('input[name="q3"]:checked').value);
            totalScore += parseInt(document.querySelector('input[name="q4"]:checked').value);
            totalScore += parseInt(document.querySelector('input[name="q5"]:checked').value);
            totalScore += parseInt(document.querySelector('input[name="q6"]:checked').value);
            totalScore += parseInt(document.querySelector('input[name="q7"]:checked').value);
            totalScore += parseInt(document.querySelector('input[name="q8"]:checked').value);
            totalScore += parseInt(document.querySelector('input[name="q9"]:checked').value);

            // ประเมินระดับความเสี่ยง
            let riskLevel = "";
            let riskClass = "";

            if (totalScore <= 4) {
                riskLevel = "ไม่เสี่ยง";
                riskClass = "result-low";
            } else if (totalScore <= 8) {
                riskLevel = "เสี่ยงน้อย";
                riskClass = "result-moderate-low";
            } else if (totalScore <= 12) {
                riskLevel = "เสี่ยงกลาง";
                riskClass = "result-moderate";
            } else {
                riskLevel = "เสี่ยงมาก";
                riskClass = "result-high";
            }

            // แสดงผลใน modal พร้อมสีที่แสดงระดับความเสี่ยง
            const resultText = document.getElementById("resultText");
            resultText.textContent = riskLevel;
            resultText.className = riskClass;  // ตั้งค่าคลาสสีของข้อความ

            document.getElementById("resultModal").style.display = "block";
        }

        function closeModal() {
            document.getElementById("resultModal").style.display = "none";
        }
    </script>
</body>
</html>
